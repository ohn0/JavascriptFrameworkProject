<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body{
                background-color: black;
            }
        </style>
    </head>
    <body>
        <div id="mainDIV"></div>
        <script> 
            "use strict";
            function my$(id){
                return document.getElementById(id);
            }
            
            var mainDiv = my$("mainDIV");
            mainDiv.style.height = "80vh";
            mainDiv.style.width = "80%";
            mainDiv.style.margin = "auto";
            mainDiv.style.backgroundColor = "#496ba0";
            mainDiv.style.lineHeight = "0px";
            var imageList = ["images", "more images later"];
            function collageFramework(){
                var collage = {};
                collage.makeCollage = function(params){
                    var newCollage = {};
    //                var boxWidth = params.boxWidth;
    //                var boxHeight = params.boxHeight;
                    var boxArray = params.boxArray;
                    var parentDIV = params.parent;
                    var imageNames = params.imageNames;
                    var rowLength = params.rowLength;
                    var colLength = boxArray.length;
//                    var boxWidth = (parseInt(parentDIV.style.height)) / colLength;
//                    var boxHeight = (parseInt(parentDIV.style.width)) / rowLength;
                    var boxHeight = Math.floor(100 / colLength);
                    var boxWidth = Math.floor(100 / rowLength);
                    console.log("Width of an individual box: " + boxWidth +
                            "\nHeight of an individual box: " + boxHeight);
                    for(var i = 0; i < colLength; i++){
                        if(boxArray[i].length !== rowLength){
                            console.log("All the rows need to be the same length.");
                            return null;
                        }
                    }

                    function makeDiv(params){
                        console.log("Making a new div!");
                        var box = document.createElement("div");
                        box.style.height = boxHeight + "%";
                        box.style.width = boxWidth + "%";
                        box.style.borderStyle = "solid";
                        box.style.borderWidth = "1px";
                        box.style.borderColor = "red";
                        box.style.display= "inline-block";
                        box.style.zIndex = 1;
                        box.style.backgroundColor = "white";
                        box.style.margin = "0px";
//                        box.style.position = "relative";
                        box.style.top = params.divYlocation + "%";  
                        box.style.left = params.divXlocation + "%";
                        box.style.width = params.width + "%";

                        parentDIV.appendChild(box);
                    }        

                    newCollage.makeBoxes = function(){
                        var divWidth = 0;
                        var Xval = 0;
                        var Yval = 0;
                        for(var i = 0; i < colLength; i++){
                            var currentVal = boxArray[i][0];
                            divWidth = 0;
                            Yval += boxHeight;
                            for(var j = 0; j <= rowLength-1; j++){
                                divWidth += boxWidth;
                                Xval += boxWidth;
                                if(boxArray[i][j+1] !== currentVal){
                                    makeDiv({
                                        width: divWidth,
                                        divXlocation: Xval,
                                        divYlocation: Yval 
                                   });
                                   currentVal = boxArray[i][j+1];
                                   divWidth = 0;
                                }
                            }
                        }
                        return null;
                    };
                    return newCollage;
                };
                return collage;
            }
//  
            var collageDrawing = [[1,1,1,0,0,0,1,1,1],
                                  [1,0,1,0,0,0,0,0,0],
                                  [0,1,1,1,1,1,1,0,0]];
//            var collageDrawing = [[1,1],
//                                  [0,0]];
  
            var collageFW = collageFramework();
            var collageA = collageFW.makeCollage({
                parent: mainDiv,
                boxArray: collageDrawing,
                boxWidth: 50,
                boxHeight: 50,
                imageNames: imageList,
                rowLength: 9
            });
            collageA.makeBoxes();

    
            
        </script>
    </body>
</html>
